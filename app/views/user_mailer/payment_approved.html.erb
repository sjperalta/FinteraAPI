<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body { font-family: Arial, sans-serif; color: #333; background-color: #f4f4f4; padding: 20px; }
      .container { max-width: 600px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
      h1 { color: #2c3e50; text-align: center; }
      p { line-height: 1.6; }
      ul { list-style: none; padding: 0; }
      li { margin-bottom: 10px; padding: 10px; background-color: #ecf0f1; border-radius: 4px; }
      .highlight { background-color: #3498db; color: white; }
      .button { display: inline-block; padding: 10px 20px; background-color: #27ae60; color: white; text-decoration: none; border-radius: 4px; margin-top: 20px; }
      .footer { margin-top: 30px; text-align: center; color: #7f8c8d; font-size: 12px; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1><%= I18n.t("mailers.user_mailer.payment_approved.title") %></h1>
      <p><%= I18n.t("mailers.user_mailer.payment_approved.greeting", name: @user.full_name) %></p>
      <p><%= I18n.t("mailers.user_mailer.payment_approved.details_intro") %></p>

      <ul>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.project", project: @payment.contract.lot.project.name) %></strong></li>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.lot", lot: "#{@payment.contract.lot.name} - #{@payment.contract.lot.address}") %></strong></li>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.payment_amount", amount: number_to_currency(@payment.amount)) %></strong></li>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.interest_amount", amount: number_to_currency(@payment.interest_amount || 0)) %></strong></li>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.payment_type", payment_type: I18n.t("payment_types.#{@payment.payment_type}")) %></strong></li>
        <li class="highlight"><strong><%= I18n.t("mailers.user_mailer.payment_approved.total_amount", amount: number_to_currency((@payment.amount || 0) + (@payment.interest_amount || 0))) %></strong></li>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.due_date", date: @payment.due_date.strftime('%d-%m-%Y')) %></strong></li>
        <li><strong><%= I18n.t("mailers.user_mailer.payment_approved.approved_at", date: @payment.approved_at.strftime('%d-%m-%Y')) %></strong></li>
      </ul>

      <p><%= I18n.t("mailers.user_mailer.reservation_approved.thanks") %></p>

      <a href="<%= ENV.fetch('APP_URL', 'https://app.fintera.com') %>" class="button"><%= I18n.t("mailers.user_mailer.payment_approved.view_platform") %></a>

      <div class="footer">
        <p><%= I18n.t("mailers.user_mailer.footer.message") %></p>
      </div>
    </div>
  </body>
</html>